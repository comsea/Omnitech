{% extends 'base.html.twig' %}

{% block title %}OMNITECHNIQUE | Actualités{% endblock %}

{% block header %}
    <div class="h-[50vh] w-full flex flex-col justify-center items-center relative">
        <video autoplay muted loop class="h-full w-full object-cover absolute -z-10">
            <source src="{{ asset("build/videos/bg.mp4") }}" type="video/mp4" class="h-full w-full">
        </video>
        <div class="w-full flex flex-col justify-center items-center space-y-10">
            <img src="{{ asset("build/images/logo.png") }}" alt="Logo Omnitechnique" class="w-1/3">
            <h1 class="text-white font-bold text-7xl">NOS ACTUALITÉS</h1>
        </div>
    </div>
{% endblock %} 

{% block body %}
    <div class="grid grid-cols-1 w-5/6 gap-10 mt-20">
        {% for new in news %}
                <div class="w-full flex flex-row items-end justify-center max-h-[290px]">
                    <div class="w-1/4 h-full skew-y-6">
                        <img src="{{ asset(base_path ~ '/' ~ new.image) }}" alt="Image présentation" class="w-full h-full object-cover">
                    </div>
                    <div class="w-3/4 h-full px-4 py-6 flex flex-col items-start space-y-2 bg-[#EFECEF] relative">
                        <h3 class="uppercase text-[#294690] font-bold text-2xl">{{ new.title }}</h3>
                        <h2 class="text-[#D7D960] font-semibold">{{ new.subtitle }}</h2>
                        <div class="line-clamp-3">{{ new.description|raw }}</div>
                        <p class="text-lg text-gray-500 capitalize">{{ new.newsCategory.name }} | {{ new.updatedat|format_datetime(locale='fr', pattern='dd MMMM YYYY') }}</p>
                        <div class="absolute right-0 bottom-0">
                            <a href="{{ path('app_actualite', {'id': new.id}) }}" class="bg-[#D7D960] rounded-full py-2 px-8 -mr-4 -mb-20">En savoir plus</a>
                        </div>
                    </div>
                </div>
        {% endfor %}
    </div>
    <div class="w-5/6 flex justify-center my-8">
        <div class="navigation flex justify-content">
            {{ knp_pagination_render(news) }}
        </div>
    </div>
{% endblock %}