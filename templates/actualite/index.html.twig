{% extends 'base.html.twig' %}

{% block title %}OMNITECHNIQUE | Actualité{% endblock %}

{% block header %}
    <div class="h-[50vh] w-full flex flex-col justify-center items-center relative">
        <video autoplay muted loop class="h-full w-full object-cover absolute -z-10">
            <source src="{{ asset("build/videos/bg.mp4") }}" type="video/mp4" class="h-full w-full">
        </video>
        <div class="w-full flex flex-col justify-center items-center space-y-10">
            <img src="{{ asset("build/images/logo.png") }}" alt="Logo Omnitechnique" class="w-1/3">
            {% if news != null and news.ispublished == 1 %}
                <h1 class="text-white font-bold text-7xl">Actualité</h1>
            {% else %}
                <h1 class="text-red-500 font-bold text-7xl">Actualité non trouvable</h1>
            {% endif %}
        </div>
    </div>
{% endblock %} 

{% block body %}
    <div class="w-full flex flex-col justify-center items-center relative">
        {% if news != null and news.ispublished == 1 %}
            <div class="w-5/6 mt-32 flex felex-row items-start justify-between">
                <div class="w-[40%] grid grid-cols-2 gap-10">
                    <img src="{{ asset(base_path ~ '/' ~ news.image) }}" alt="Image présentation" class="w-full h-full object-cover col-span-2 border-8 border-[#294690]">
                    {% for images in news.gallery %}
                        <img src="{{ asset(base_path ~ '/' ~ images.path) }}" alt="Image présentation" class="w-full h-full object-cover border-8 border-[#294690]">
                    {% endfor %}
                </div>
                <div class="w-[55%] flex flex-col items-start mt-8 space-y-4">
                    <div class="font-bold text-5xl relative flex justify-center items-center mb-6 ml-10">
                        <h2 class="ombrage">{{ news.title }}</h2>
                        <div class="absolute -z-10 -left-5 bg-[#D7D960] w-16 h-20 shadow-xl formes"></div>
                    </div>
                    <div>
                        <p class="text-3xl font-semibold text-[#294690]">{{ news.subtitle }}</p>
                        <p class="font-semibold text-[#D7D960]">{{ news.newsCategory.name }}</p>
                    </div>
                    <div class="">
                        {{ news.description|raw }}
                    </div>
                </div>
            </div>
            <div class="w-5/6 mt-6 text-lg text-gray-500">
                <p>Créé le : {{ news.createdAt|format_datetime(locale='fr', pattern='dd MMMM YYYY') }}</p>
                <p>Dernière modification le : {{ news.updatedAt|format_datetime(locale='fr', pattern='dd MMMM YYYY') }}</p>
            </div>
        {% else %}
        <div class="mt-12">
            <p class="text-3xl font-bold text-red-500">Bonjour, l'actualité que vous essayer de voir n'est pas disponnible ou n'éxiste pas.</p>
        </div>
    {% endif %}
        <div class="absolute w-1/3 h-1/2 border-8 border-[#D7D960]/30 skew-y-6 -z-10 top-0 right-0"></div>
        <div class="absolute w-1/3 h-1/2 border-8 border-[#D7D960]/30 skew-y-6 -z-10 bottom-0 left-0"></div>
    </div>
{% endblock %}
