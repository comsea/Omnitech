{% extends 'base.html.twig' %}

{% block title %}OMNITECHNIQUE | Offre d'emploi{% endblock %}

{% block header %}
    <div class="h-[50vh] w-full flex flex-col justify-center items-center relative">
        <video autoplay muted loop class="h-full w-full object-cover absolute -z-10">
            <source src="{{ asset("build/videos/bg.mp4") }}" type="video/mp4" class="h-full w-full">
        </video>
        <div class="w-full flex flex-col justify-center items-center space-y-10">
            <img src="{{ asset("build/images/logo.png") }}" alt="Logo Omnitechnique" class="w-1/3">
            {% if jobs != null and jobs.ispublished == 1 %}
                <h1 class="text-white font-bold text-7xl">Offre d'emploi</h1>
            {% else %}
                <h1 class="text-red-500 font-bold text-7xl">Offre d'emploi non trouvable</h1>
            {% endif %}
        </div>
    </div>
{% endblock %} 

{% block body %}
    <div class="w-full flex flex-col justify-center items-center relative">
        {% if jobs != null and jobs.ispublished == 1 %}
            <div class="w-5/6 mt-32 flex flex-col items-start space-y-5">
                <div class="font-bold text-5xl relative flex justify-center items-center mb-6 ml-10">
                    <h2 class="ombrage">{{ jobs.title }}</h2>
                    <div class="absolute -z-10 -left-5 bg-[#D7D960] w-16 h-20 shadow-xl formes"></div>
                </div>
                <div>
                    <p class="text-3xl font-semibold text-[#294690]">{{ jobs.contractSector.name }}</p>
                    <p class="font-semibold text-[#D7D960]">Type de contrat : {% for type in jobs.contractType %}{{ type.name }}{% endfor %}</p>
                </div>
                <div>
                    {{ jobs.description|raw }}
                 </div>
                 {% if jobs.pdf != null %}
                    <div>
                        <p>PDF à télécharger : <a href="{{ asset(base_path ~ '/' ~ jobs.pdf) }}" download="{{ asset(base_path ~ '/' ~ jobs.pdf) }}" class="hover:underline">ici</a></p>
                    </div>
                {% endif %}
            </div>
            <div class="w-5/6 mt-6 text-lg text-gray-500">
                <p>Créé le : {{ jobs.createdAt|format_datetime(locale='fr', pattern='dd MMMM YYYY') }}</p>
                <p>Dernière modification le : {{ jobs.updatedAt|format_datetime(locale='fr', pattern='dd MMMM YYYY') }}</p>
            </div>
        {% else %}
        <div class="mt-12">
            <p class="text-3xl font-bold text-red-500">Bonjour, l'offre d'emploi que vous essayer de voir n'est pas disponnible ou n'éxiste pas.</p>
        </div>
    {% endif %}
        <div class="absolute w-1/3 h-1/2 border-8 border-[#D7D960]/30 skew-y-6 -z-10 top-0 right-0"></div>
        <div class="absolute w-1/3 h-1/2 border-8 border-[#D7D960]/30 skew-y-6 -z-10 bottom-0 left-0"></div>
    </div>
    <div class="w-5/6 flex flex-col justify-center items-center mt-10 text-4xl space-y-2">
            <p>Z.A. DEVANT NOUZON - 08700 NOUZONVILLE</p>
            <p>03 24 59 02 89 | contact@ardennes-cn.com</p>
        </div>
                <div class="w-full mt-10">
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d883.6653597913189!2d4.729793852763718!3d49.81798991536582!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47ea0e9f1da94c2b%3A0x587266ffa80dcb60!2sArdennes%20CN!5e0!3m2!1sfr!2sfr!4v1684155331379!5m2!1sfr!2sfr" class="w-full"></iframe>
        </div>
{% endblock %}
